import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{o,c,b as n,d as t,w as e,a as l,e as s,r as i}from"./app.8af2be4f.js";const u={},r=l(`<h1 id="\u8BFB\u53D6scope-csv-\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u8BFB\u53D6scope-csv-\u6570\u636E" aria-hidden="true">#</a> \u8BFB\u53D6Scope CSV \u6570\u636E</h1><h1 id="\u8BFB\u53D6-scope-csv-\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u8BFB\u53D6-scope-csv-\u6570\u636E" aria-hidden="true">#</a> \u8BFB\u53D6 Scope CSV \u6570\u636E</h1><h2 id="\u5B9A\u4E49" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u4E49" aria-hidden="true">#</a> \u5B9A\u4E49</h2><p>\u9002\u7528\u4E8E\u5BF9\u500D\u798F Scope \u5BFC\u51FA\u7684 CSV \u6587\u4EF6\u8FDB\u884C\u6570\u636E\u5904\u7406\u64CD\u4F5C\uFF0C\u5BFC\u51FA\u4E00\u4E2A\u5143\u80DE\uFF0C\u5305\u542B\u5BF9\u5E94\u6587\u4EF6\u4E2D\u6570\u636E\u7684\u53D8\u91CF\u540D\u548C\u6570\u636E\u5217\u8868\u3002</p><p>Functions:</p><ul><li>FileExract <ul><li>\u89E3\u6790\u6587\u4EF6\uFF0C\u8FD4\u56DE scope \u4E2D\u7684\u53D8\u91CF\u540D\u548C\u6570\u636E\u5217\u8868</li></ul></li><li>Handle_raw_data <ul><li>\u6839\u636E\u9884\u8BBE\u6587\u4EF6\u5939\u8DEF\u5F84\u6253\u5F00\u6587\u4EF6\uFF0C\u9009\u62E9 (\u53EF\u591A\u9009) CSV \u6587\u4EF6\uFF0C\u4F7F\u7528 <code>fileExtract</code> \u63D0\u53D6\u6570\u636E\uFF0C\u8FD4\u56DE\u5143\u80DE</li></ul></li></ul><p>fileExtract</p><div class="language-matlab ext-matlab line-numbers-mode"><pre class="language-matlab"><code><span class="token keyword">function</span> <span class="token punctuation">[</span>nameList<span class="token punctuation">,</span> dataList<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">fileExract</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
<span class="token comment">%% \u5355\u6587\u4EF6\u89E3\u6790</span>
<span class="token comment">% IN: fileName</span>
<span class="token comment">% OUT:</span>
<span class="token comment">%   - nameList : 1xN string list, variable name list, N-&gt; variable number</span>
<span class="token comment">%   - dataList: kxN double list, variable data list, k-&gt; data length, N-&gt;variable number</span>
<span class="token comment">%   </span>
<span class="token comment">% \u83B7\u53D6\u6587\u4EF6\u53D8\u91CF\u540D\u5217\u8868</span>

    nameLine <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">% \u7B2C7\u884C\u662F\u6587\u4EF6\u7684\u540D\u5B57\u90E8\u5206</span>
    fidin <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span><span class="token string">&#39;r+&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">% \u9700\u8981\u8BFB\u53D6\u7684\u6587\u4EF6</span>
    lineHeader <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">feof</span><span class="token punctuation">(</span>fidin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>index<span class="token operator">&lt;</span>lineHeader<span class="token punctuation">)</span>
        tline<span class="token operator">=</span><span class="token function">fgetl</span><span class="token punctuation">(</span>fidin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">%\u8BFB\u53D6\u4E00\u884C</span>
        index<span class="token operator">=</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token comment">%fprintf(fidout,&#39;%s\\n&#39;,tline);      </span>
        <span class="token keyword">if</span> index<span class="token operator">==</span>lineHeader  
        <span class="token comment">%\u5982\u679C\u8BFB\u5230\u7B2C7\u884C\uFF0C\u53D6\u51FA\u7B2C7\u884C</span>
            nameLine<span class="token operator">=</span><span class="token function">convertCharsToStrings</span><span class="token punctuation">(</span>tline<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
    <span class="token function">fclose</span><span class="token punctuation">(</span>fidin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    nameList <span class="token operator">=</span> <span class="token function">split</span><span class="token punctuation">(</span>nameLine<span class="token punctuation">,</span> <span class="token punctuation">[</span>&quot;Name&quot;<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    nameList <span class="token operator">=</span> <span class="token function">strip</span><span class="token punctuation">(</span>nameList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    nameList <span class="token operator">=</span> <span class="token function">nameList</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">:</span><span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">&#39;</span><span class="token punctuation">;</span>
    
    <span class="token comment">% \u83B7\u53D6\u6587\u4EF6\u6570\u5B57\u4FE1\u606F</span>

    <span class="token comment">% 30\u4E3A\u4E86\u4FDD\u8BC1\u4E00\u5B9A\u662F\u6570\u636E\u5F00\u59CB\u4E86</span>
    lineData <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    T <span class="token operator">=</span> <span class="token function">readmatrix</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;HeaderLines&#39;</span><span class="token punctuation">,</span> lineData<span class="token punctuation">)</span><span class="token punctuation">;</span>

    dataLength <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">% \u5F80\u540E\u501210\uFF0C\u4FDD\u8BC1\u4E0D\u51FA\u73B0NAN</span>
    lastDataIndex <span class="token operator">=</span> <span class="token function">dataLength</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span>
    varLength <span class="token operator">=</span> <span class="token function">length</span><span class="token punctuation">(</span>nameList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataList <span class="token operator">=</span> <span class="token function">zeros</span><span class="token punctuation">(</span>lastDataIndex<span class="token punctuation">,</span> varLength<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> index<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span>varLength
        <span class="token function">dataList</span><span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span>index<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">T</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>lastDataIndex<span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Handle_raw_data</p><div class="language-matlab ext-matlab line-numbers-mode"><pre class="language-matlab"><code><span class="token comment">%% \u6587\u4EF6\u83B7\u53D6</span>
<span class="token comment">% IN: None</span>
<span class="token comment">% OUT:</span>
<span class="token comment">%   - dataCell: 3xN cell, \u6BCF\u4E00\u5217\u4ECE\u4E0A\u81F3\u4E0B\u5206\u522B\u4E3A: \u6587\u4EF6\u540D\uFF0C\u6587\u4EF6\u4E2D\u53D8\u91CF\u540D\uFF0C\u53D8\u91CF\u540D\u5BF9\u5E94\u7684\u6570\u636E\u540D</span>
<span class="token comment">%       - \u53D8\u91CF\u540D\u548C\u6570\u636E\u540D\u5217\u8868\u89C4\u5219\u53C2\u8003fileExtract.m</span>
<span class="token comment">%   </span>
<span class="token comment">% \u83B7\u53D6\u6587\u4EF6\u53D8\u91CF\u540D\u5217\u8868</span>
defPath <span class="token operator">=</span> &quot;E<span class="token operator">:</span><span class="token operator">\\</span>randolf<span class="token punctuation">.</span>top<span class="token operator">\\</span>phd<span class="token operator">\\</span>project<span class="token operator">\\</span>\u67D4\u6027\u652F\u6491Stewart\u5E73\u53F0\u63A7\u5236<span class="token operator">-</span>\u5F20\u8363\u4FA8<span class="token punctuation">(</span>\u6BD5\u8BBE<span class="token punctuation">)</span><span class="token operator">\\</span>\u5B9E\u9A8C\u4EE3\u7801<span class="token operator">\\</span>DataAnalysis<span class="token operator">\\</span>Archives<span class="token operator">\\</span>Scope&quot;<span class="token punctuation">;</span>
<span class="token punctuation">[</span>file<span class="token punctuation">,</span>path<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">uigetfile</span><span class="token punctuation">(</span> <span class="token string">&#39;*.csv&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;defname&#39;</span><span class="token punctuation">,</span>defPath<span class="token punctuation">,</span><span class="token string">&#39;MultiSelect&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;on&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token function">isequal</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
   <span class="token function">disp</span><span class="token punctuation">(</span><span class="token string">&#39;User selected Cancel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
    <span class="token comment">% \u53EA\u9009\u62E9\u4E86\u4E00\u4E2A\u6587\u4EF6</span>
    <span class="token keyword">if</span> <span class="token function">class</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">&#39;char&#39;</span>
        fileCell <span class="token operator">=</span> <span class="token function">cell</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileCell<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">=</span> file<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        fileCell <span class="token operator">=</span> file<span class="token punctuation">;</span>
    <span class="token keyword">end</span>
    fileSize <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>fileCell<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fileNum <span class="token operator">=</span> <span class="token function">fileSize</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    dataCell <span class="token operator">=</span> <span class="token function">cell</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> fileNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">for</span> index  <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span>fileNum
        fileName <span class="token operator">=</span> <span class="token function">fullfile</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>fileCell<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span>index<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">% \u6587\u4EF6\u89E3\u6790</span>
        dataCell<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">}</span> <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
        <span class="token punctuation">[</span>nameList<span class="token punctuation">,</span> dataList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fileExract</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataCell<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> index<span class="token punctuation">}</span> <span class="token operator">=</span> nameList<span class="token punctuation">;</span>
        dataCell<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> index<span class="token punctuation">}</span> <span class="token operator">=</span> dataList<span class="token punctuation">;</span>

        <span class="token function">disp</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;extracted &#39;</span><span class="token punctuation">,</span>fileCell<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span>index<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53C2\u8003\u5B9E\u73B0:</p><ul><li><a href="./assets/fileExtract.m">fileExtract</a></li><li><a href="./assets/handle_raw_data.m">handle_raw_data</a></li></ul><hr><p>\u6700\u7EC8\u53EF\u4EE5\u4F7F\u7528\u5B8C\u6210\u7684\u51FD\u6570\u5B9E\u73B0\uFF1A</p><p>\u8C03\u7528 <code>scope_handle_rawdata</code> \u5B9E\u73B0\u89E3\u6790 scope \u4EE3\u7801</p>`,15),k=s("assets\\scope_file_extract"),d=s("assets\\scope_handle_rawdata"),m=n("h2",{id:"\u53C2\u8003",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u53C2\u8003","aria-hidden":"true"},"#"),s(" \u53C2\u8003")],-1),v=n("ul",null,[n("li",null,"Matlab \u5B98\u65B9\u624B\u518C")],-1);function b(f,h){const a=i("RouterLink");return o(),c("div",null,[r,n("p",null,[t(a,{to:"/tool/matlab/"},{default:e(()=>[k]),_:1})]),n("p",null,[t(a,{to:"/tool/matlab/"},{default:e(()=>[d]),_:1})]),m,v])}var g=p(u,[["render",b],["__file","\u8BFB\u53D6Scope-CSV-\u6570\u636E.html.vue"]]);export{g as default};
