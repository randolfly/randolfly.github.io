---
date: 2022-08-09
tag:
  - default
category:
  - library
  - 机器人
---


# RPY 角和 Euler 角


## 定义

假设存在两个坐标系 A、B，两者初始时完全重合。

### RPY 角 (XYZ)

B 绕着 A 的 X 轴旋转 $\gamma$ 角，再绕 A 的 Y 轴旋转 $\beta$ 角，最后绕着 A 的 Z 轴旋转 $\alpha$ 角。整个过程，A 不动 B 动。考虑得到的最终的旋转矩阵为 $R$，代表将 A 坐标系转换到 B。

应该注意到，这里有一点 trick。以第一次旋转为例，B 绕着 A 的 X 轴旋转 $\gamma$ 角。这里有两种思考方式：

- 从坐标系的角度来看

  实际完成的坐标系变换是 $R(-\gamma)$，也就是说需要让向量实现这样的变换，应该让对应坐标系实现反转，再将其转换为向量操作意义下的矩阵，应该有实际的操作矩阵为：$R(-\gamma)^T=R_{\gamma}$

- 从变换的角度来看

  对于一个纯粹的旋转变换 $R_{\gamma}$，其意义就在于将向量实现旋转，将其直接作用在该向量上就成立了。

总之，考虑到整个过程 A 不动，那么对旋转矩阵 $R$ 而言，更直观的理解方式是将其看成一个坐标系意义，即 $R=[\vec{r_1} \vec{r_2} \vec{r_3}]$。将 A 坐标系中一个向量 $\vec{r}$ 经过上述变换，应该有：$\vec{r_{last}}= R_{\alpha}R_{\beta}R_{\gamma}\vec{r}$，其中 $\vec{r_{last}}$ 代表变换后的向量在 A 坐标系下的表示。注意到，B 中的每一个向量都可以用上面形式表示，因此，旋转矩阵满足：
$$
R= R_{\alpha}R_{\beta}R_{\gamma}
$$



可以发现，上面两个最终得到的旋转矩阵形式相同，也就是说：

**绕定轴 X-Y-Z 旋转（RPY 角） 等价于 绕动轴 Z-Y-X 旋转（Euler 角）**

可以理解为：RPY 角一直围绕定轴 A 旋转，反过来看，将 B 作为观察系，则等价于一直对 A 做变换操作，也就是动轴操作。此外，由于这个反过来观察带来了一个逆矩阵，因此整体带了一个转置（对旋转矩阵而言是正交阵特性：逆=转置）。此外，每一次操作都是 B 对 A 轴转，因此每一次操作反过来看也额外带了一个转置（以 B 为定轴的话）。那么最终这个思路得到的旋转矩阵结果为：
$$
R=(R_{\gamma}^T R_{\beta}^T R_{\alpha}^T)^T=R_{\alpha} R_{\beta} R_{\gamma}
$$


## 参考

- [机器人RPY角和Euler角 -- 基本公式_lyhbkz的博客-CSDN博客_rpy](https://blog.csdn.net/lyhbkz/article/details/83542248)
